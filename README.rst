samba_report_html
=================

.. contents::

Description
------------

.. _samba_report_module: https://github.com/majerteam/samba_report_module

HTML+js frontend for samba_report_module_

The present repository contains some HTML, Javascript and CSS files that can be served statically.

The javascript takes care of fetching and presenting the data in a file named `samba_summary.json`; the latter being generated by painlessly aggregating the output of samba_report_module_ all around your servers.

Credits
---------

Files that are copied here, mainly for convenience.

* gauge.js:

  * Copied at https://gist.github.com/tomerd/1499279
  * Author: tomer doron https://github.com/tomerd http://tomerdoron.blogspot.fr/

* d3.js, jquery min, for convenience.

Thanks a lots to all imported authors!

Screenshots!
------------

Main view
~~~~~~~~~~

The page consists of :

* on the right: a few controls that can be toggled
* a succession of blocks, one per server, with:

  * the server name
  * the correspondence between samba exported directories and filesystems
  * the list of samba shares, with

    * current number of users
    * current number of locked files

  * a gauge showing how much space is left of the supporting filesystems.

.. image:: docs/screenshots/html1.png

Locked files
~~~~~~~~~~~~~

Upon clicking on a cell in the locked files column (showing a non-zero value), you can access the list of locked files.

.. image:: docs/screenshots/html2.png

User list
~~~~~~~~~~~~~

Upon clicking on a cell in the users column (showing a non-zero value), you can access the list of machines connected to the share.

Clicking the name of a machine toggles a list of all shares this machine is currently accessing.

.. image:: docs/screenshots/html3.png

Why this project
-----------------

For a start, I needed to have a centralized view of samba usage, because it is critical to avoid disconnecting people when they work on locked files: this could void days of work.
